<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>海航</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="./lib/themes/icon.css">
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./lib/themes/default/easyui.css">
    <link rel="stylesheet" href="./lib/icomoon/style.css">
    <link rel="stylesheet" href="./lib/ztreeCss/zTreeStyle/zTreeStyle.css">
    <script type="text/javascript" src="./lib/jquery-1.8.0.min.js"></script>
    <script type="text/javascript" src="./lib/easyui-1.4.1.min.js"></script>
    <script type="text/javascript" src="./lib/Chart.min.js"></script>
    <script type="text/javascript" src="./lib/jquery.ztree.all.min.js"></script>
    <link rel="stylesheet" href="css/main.css">
    <!-- 1366*768   ------  1920*1080-->
</head>
<body>
<div id="easyuiMain">
    <div id="sideTabs" class="fl">
        <div id="logo"></div>
        <ul id="sideList">
            <li id="sidetab1" class="tab">
                <ul class="tabList">
                    <li rel="Document1" title="This is the content of Document1">Document1</li>
                    <li rel="Document2" title="This is the content of Document2">Document2</li>
                    <li rel="Document3" title="This is the content of Document3">Document3</li>
                    <li rel="Document4" title="This is the content of Document3">Document4</li>
                    <li rel="Document5" title="This is the content of Document3">Document5</li>
                    <li rel="Document6" title="This is the content of Document3">Document6</li>
                    <li rel="Document8" title="This is the content of Document3">Document7</li>
                    <li rel="Document9" title="This is the content of Document3">Document8</li>
                    <li rel="Document10" title="This is the content of Document3">Document9</li>
                    <li rel="Document11" title="This is the content of Document3">Document10</li>
                    <li rel="Document12" title="This is the content of Document3">Document11</li>
                    <li rel="Document13" title="This is the content of Document3">Document12</li>
                    <li rel="Document14" title="This is the content of Document3">Document13</li>
                    <li rel="Document15" title="This is the content of Document3">Document14</li>
                    <li rel="Document16" title="This is the content of Document3">Document15</li>
                    <li rel="Document17" title="This is the content of Document3">Document16</li>
                    <li rel="Document18" title="This is the content of Document3">Document17</li>
                    <li rel="Document18" title="This is the content of Document3">Document18</li>
                </ul>
            </li>
            <li id="sidetab2" class="tab">
                <ul class="tabList">
                    <li rel="Document1" title="This is the content of Document1">Document1</li>
                    <li rel="Document2" title="This is the content of Document2">Document2</li>
                    <li rel="Document3" title="This is the content of Document3">Document3</li>
                </ul>
            </li>
            <li id="sidetab3" class="tab"></li>
            <li id="sidetab4" class="tab">
                <ul class="tabList">
                    <li rel="Document1" title="This is the content of Document1">Document1</li>
                    <li rel="Document2" title="This is the content of Document2">Document2</li>
                    <li rel="Document3" title="This is the content of Document3">Document3</li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="fl" id="main">
        <div id="mainHeader" class="fr">
            <!--头部电话条--->
            <div id="phoneTitle">
                <!--头部电话信息--->
                <div id="phoneMessage" class="fl">
                    <p><span id="link_icon"></span>外部通话中<span id="phone_time">00:00:28</span></p>
                    <p><span id="phoneNum">18610131417</span><span id="phoneAd">辽宁大连联通</span></p>
                </div>
                <!--头部按钮区域--->
                <div class="fl" id="headerIcon">
                    <button class="iconBtn fl">
                        <img src="img/topicon1.png" alt="">
                    </button>
                    <button class="iconBtn fl" disabled>
                        <img src="img/topicon10.png" alt="">
                    </button>
                    <button class="iconBtn fl">
                        <img src="img/topicon2.png" alt="">
                    </button>
                    <button class="iconBtn fl">
                        <img src="img/topicon11.png" alt="">
                    </button>
                    <button class="iconBtn fl">
                        <img src="img/topicon5.png" alt="">
                    </button>
                    <button class="iconBtn fl">
                        <img src="img/topicon6.png" alt="">
                    </button>
                    <button class="iconBtn fl">
                        <img src="img/topicon3.png" alt="">
                    </button>
                    <button class="iconBtn fl">
                        <img src="img/topicon12.png" alt="">
                    </button>
                    <button class="iconBtn fl">
                        <img src="img/topicon7.png" alt="">
                    </button>
                    <button class="iconBtn fl">
                        <img src="img/topicon8.png" alt="">
                    </button>
                    <button class="iconBtn fl">
                        <img src="img/topicon9.png" alt="">
                    </button>
                    <button class="iconBtn fl">
                        <img src="img/topicon14.png" alt="">
                    </button>
                    <button class="iconBtn fl">
                        <img src="img/topicon4.png" alt="">
                    </button>
                    <button class="iconBtn fl">
                        <img src="img/topicon13.png" alt="">
                    </button>
                </div>
                <!--头部登录信息--->
                <div id="loginMessage">
                    <div id="headerImg" class="fl">
                        <img src="./img/logo.png" alt="">
                    </div>
                    <div id="infomation" class="fl">
                        <p id="userName">白浅</p>
                        <p>ID<span id="userId">10001</span></p>
                        <p>技能组:接听做席</p>
                    </div>
                    <div id="closeBtn" class="icon-closeLink fl"></div>
                </div>
            </div>
        </div>
        <div id="mainbox" class="easyui-layout" style="width: 100%;height: 93%">
            <!---------左侧区域------------>
            <div id="sideLeft" data-options="region:'west',split:true" title="我的工作台" style="width:20%;height: 100%;">
                <div class="easyui-tabs" style="width: 100%;height: 100%" id="leftTab" data-options="selected:2">
                    <div title="待处理9"></div>
                    <div title="全部"></div>
                    <!---------工作信息------------>
                    <div title="工作信息">
                        <div id="jobInformation">
                            <div id="infomationHeader">——————<span>公告信息</span>——————</div>
                            <ul id="infomationList">
                                <li class="news">
                                    <div class="newsMain">
                                        <div class="newsListHeader">
                                            <div class="newsTime fl">2017/5/18</div>
                                            <div class="iconDown fl upDown"></div>
                                            <div class="newsTitle fl">
                                                今天我我我哦我哦我我哦我大大大大大大大大
                                            </div>
                                        </div>
                                        <div class="newsBody">
                                            热烈庆祝飒飒大大大大大大大大的
                                            热烈庆祝飒飒大大大大大大大大的
                                            热烈庆祝飒飒大大大大大大大大的
                                        </div>
                                    </div>
                                </li>
                                <li class="news">
                                    <div class="newsMain">
                                        <div class="newsListHeader">
                                            <div class="newsTime fl">2017/5/18</div>
                                            <div class="iconDown fl upDown"></div>
                                            <div class="newsTitle fl">
                                                今天我我我哦我哦我我哦我大大大大大大大大
                                            </div>
                                        </div>
                                        <div class="newsBody">
                                            热烈庆祝飒飒大大大大大大大大的
                                            热烈庆祝飒飒大大大大大大大大的
                                            热烈庆祝飒飒大大大大大大大大的
                                        </div>
                                    </div>
                                </li>
                                <li class="news">
                                    <div class="newsMain">
                                        <div class="newsListHeader">
                                            <div class="newsTime fl">2017/5/18</div>
                                            <div class="iconDown fl upDown"></div>
                                            <div class="newsTitle fl">
                                                今天我我我哦我哦我我哦我大大大大大大大大
                                            </div>
                                        </div>
                                        <div class="newsBody">
                                            热烈庆祝飒飒大大大大大大大大的
                                            热烈庆祝飒飒大大大大大大大大的
                                            热烈庆祝飒飒大大大大大大大大的
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <div id="chartData">
                                <canvas id="dayChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!----中心区域---->
            <div id="centerSide" data-options="region:'center'"
                 style="width: 60%;height:100%;">
                <div class="centerTab" id="centerTab0">
                    <div id="centerTab0Head"></div>
                    <div id="defalutHead">
                        <div class="fl">
                            <p><img src="./img/wechar.png" alt=""></p>
                            <p>数量2</p>
                        </div>
                        <div class="fl">
                            <p><img src="./img/wechar.png" alt=""></p>
                            <p>数量4</p>
                        </div>
                        <div class="fl">
                            <p><img src="./img/pin.jpg" alt=""></p>
                            <p>数量5</p>
                        </div>
                    </div>
                </div>
                <!-------第一个侧边栏TAB点击的显示区域------->
                <div class="centerTab" id="centerTab1">
                    <div id="wrapper">
                        <div id="leftTabBtn" class="tabsBtn"></div>
                        <div id="rightTabBtn" class="tabsBtn"></div>
                        <div class="easyui-tabs fl" id="easyTab1" data-options="selected:0"></div>
                    </div>
                </div>
                <!-------第二个侧边栏TAB点击的显示区域-  tab设置最多添加9个 若想改去css中修改宽度------>
                <div class="centerTab" id="centerTab2">
                    <div class="easyui-tabs fl" id="tab1" style="width: 100%;height: 100%">
                        <div title="客户资料" id="headerTab1" style="width: 100%;height: 100%">
                            <div class="fl" style="width: 70%;height: 100%;border-right: 1px solid #cccccc">
                                <div id="customerMes">
                                    <div class="mesHeader">————————<span>客户信息</span>—————————
                                    </div>
                                    <div id="customerMain">
                                        <ul id="customerMesList">
                                            <!-------客户信息部分-------->
                                            <li class="mesItem fl">来电号码:<span class="mes">1111</span></li>
                                            <li class="mesItem fl">来电号码:<span class="mes"></span></li>
                                            <li class="mesItem fl">来电号码:<span class="mes"></span></li>
                                            <li class="mesItem fl">来电号码:<span class="mes"></span></li>
                                            <li class="mesItem fl">来电号码:<span class="mes"></span></li>
                                            <li class="mesItem fl">来电号码:<span class="mes"></span></li>
                                            <li class="mesItem fl">来电号码:<span class="mes"></span></li>
                                            <li class="mesItem fl">来电号码:<span class="mes"></span></li>
                                            <li class="mesItem fl">来电号码:<span class="mes"></span></li>
                                            <li class="mesItem fl">来电号码:<span class="mes"></span></li>
                                        </ul>
                                    </div>
                                </div>
                                <div id="workOrder">
                                    <div class="mesHeader">————————<span>工单信息</span>——————————
                                    </div>
                                    <div id="order">工单编号:<span id="orderNum">1111111111</span></div>
                                    <div class="easyui-tabs" id="tab2" style="width: 100%;">
                                        <div title="咨询" id="consult">
                                            <div class="easyui-tabs" id="tab3" style="width: 100%;height: 100%">
                                                <div title="CRM系统" id="crm">
                                                    <ul class="workHeader">
                                                        <li class="workItem fl">受理共号:<span class="workMes"></span></li>
                                                        <li class="workItem fl">受理共号:<span class="workMes"></span></li>
                                                        <li class="workItem fl">受理共号:<span class="workMes"></span></li>
                                                        <li class="workItem fl">受理共号:<span class="workMes"></span></li>
                                                        <li class="workItem fl">受理共号:<span class="workMes"></span></li>
                                                    </ul>
                                                    <div class="library">
                                                        <div class="variableP">
                                                            <dl class="variable fl">
                                                                <dt>
                                                                    <input type="checkbox">环境变量
                                                                </dt>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                            </dl>
                                                            <dl class="variable fl">
                                                                <dt>
                                                                    <input type="checkbox">环境变量
                                                                </dt>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                            </dl>
                                                            <dl class="variable fl">
                                                                <dt>
                                                                    <input type="checkbox">环境变量
                                                                </dt>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                            </dl>
                                                            <dl class="variable fl">
                                                                <dt>
                                                                    <input type="checkbox">环境变量
                                                                </dt>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                            </dl>
                                                            <dl class="variable fl">
                                                                <dt>
                                                                    <input type="checkbox">环境变量
                                                                </dt>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                            </dl>
                                                            <dl class="variable fl">
                                                                <dt>
                                                                    <input type="checkbox">环境变量
                                                                </dt>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                                <dd><input type="checkbox">客户端</dd>
                                                            </dl>
                                                        </div>
                                                        <div id="urlPath">环境变量>客户段</div>
                                                    </div>
                                                    <div class="upFile">
                                                        <div class="fl">上传附件:</div>
                                                        <div class="fl fileBox icon-upFile">
                                                            <input type="file" class="fileCheck">
                                                        </div>
                                                        <!--<ul class="fileList fl">-->
                                                        <!--<li>文档1</li>-->
                                                        <!--<li>文档2</li>-->
                                                        <!--</ul>-->
                                                    </div>
                                                    <div class="remark">
                                                        <div>备注:</div>
                                                        <div>
                                                            <input class="easyui-textbox" data-options="multiline:true"
                                                                   type="text">
                                                        </div>
                                                        <div class="refresh icon-refresh markIcon"></div>
                                                        <div class="sure icon-good markIcon"></div>
                                                    </div>
                                                </div>
                                                <div title="OA系统" id="oa"></div>
                                            </div>
                                        </div>
                                        <div title="其他"></div>
                                        <div title="其他"></div>
                                    </div>
                                </div>
                            </div>
                            <div id="serveRes" class="fl" style="width: 30%;height: 100%">
                                <!-------树形结构------>
                                <div id="serRequest">
                                    <div class="treeHead mesHeader">————<span>服务请求</span>—————</div>
                                    <ul class="ztree treeMain" id="ztreeMain"></ul>
                                    <!--<div class="treeLink">-->
                                    <!--<button class="fl"><a href="#">1</a></button>-->
                                    <!--<button class="fl"><a href="#">1</a></button>-->
                                    <!--<button class="fl"><a href="#">1</a></button>-->
                                    <!--</div>-->
                                </div>

                            </div>
                        </div>
                        <div title="客户来电" id="headerTab2"></div>
                        <div title="其他"></div>
                    </div>

                </div>
                <!---------侧边栏后台管理-------->
                <div class="centerTab" id="centerTab3">
                    <div class="easyui-tabs" id="tab4">
                        <div title="客户管理" id="manCustomers">
                            <!-----后台管理查询客户信息----->
                            <div id="manHeader">
                                <div class="fl" id="clientName">客户姓名:<input type="text" placeholder="请输入客户姓名"
                                                                            class="searchInput"></div>
                                <div class="fl" id="recordDate">注册日期:<input type="text" placeholder="请输入注册日期"
                                                                            class="searchInput easyui-datebox"
                                                                            data-options="required:true">
                                </div>
                                <!--<div id="searchBtn" class="fr easyui-menubutton" data-options="menu:'#slectList'">查询-->
                                <!--</div>-->
                                <!--<div id="slectList">-->
                                <!--<div>1</div>-->
                                <!--<div>2</div>-->
                                <!--<div>3</div>-->
                                <!--<div>4</div>-->
                                <!--<div>5</div>-->
                                <!--</div>-->
                            </div>
                            <div id="manMain">
                                <div id="operation">
                                    <a href="javascript:;" id="add" class="fl easyui-linkbutton"
                                       data-options="plain:true">
                                        <img src="./img/add1.png" alt="">
                                    </a>
                                    <a href="javascript:;" id="change" class="fl easyui-linkbutton"
                                       data-options="plain:true">
                                        <img src="./img/chang1.png" alt="">
                                    </a>
                                    <a href="javascript:;" id="remove" class="fl easyui-linkbutton"
                                       data-options="plain:true">
                                        <img src="./img/remove2.png" alt="">
                                    </a>
                                    <a href="javascript:;" id="refresh" class="fr easyui-linkbutton"
                                       data-options="plain:true">
                                        <img src="./img/refresh1.png" alt="">
                                    </a>
                                    <a href="javascript:;" id="search" class="fr easyui-linkbutton"
                                       data-options="plain:true">
                                        <img src="./img/search1.png" alt="">
                                    </a>
                                </div>
                                <table id="customersTable" class="easyui-datagrid" style="width:100%;"
                                       data-options="
                                       rownumbers:false,
                                       singleSelect:false,
                                       url:'./data/datagrid_data1.json',
                                       method:'get',
                                       pagination:true,
                                       toolbar: '#operation',
                                        iconCls: 'icon-edit',
                                        pagination:true,
                                       "
                                >
                                    <thead>
                                    <tr>
                                        <th data-options="field:'ck',checkbox:true,align:'center'">全选</th>
                                        <th data-options="field:'itemid',align:'center'">Item ID</th>
                                        <th data-options="field:'productid',align:'center'">Product</th>
                                        <th data-options="field:'listprice',align:'center'">List Price</th>
                                        <th data-options="field:'unitcost',align:'center'">Unit Cost</th>
                                        <th data-options="field:'attr1',align:'center'">Attribute</th>
                                        <th data-options="field:'status',align:'center'">Status</th>
                                    </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                        <div title="其他"></div>
                        <div title="其他"></div>
                    </div>
                </div>
                <!------------侧边栏的发送短信------------->
                <div class="centerTab" id="centerTab4">
                    <div class="easyui-tabs" id="tab5">
                        <div title="发送短信" id="sendNote">
                            <form action="" method="post" class="formMain am-form">
                                <div class="formList">
                                    <span class="formText">用户姓名:</span>
                                    <input type="text">
                                </div>
                                <div class="formList">
                                    <span class="formText">身份证号码:</span>
                                    <input type="text">
                                </div>
                                <div class="formList">
                                    <span class="formText">来电号码:</span>
                                    <input type="text">
                                </div>
                                <div class="formList">
                                    <span class="formText">短信内容:</span>
                                    <textarea></textarea>
                                </div>
                                <button class="sub">
                                    <img src="./img/send1.png" alt="">
                                </button>
                            </form>
                        </div>
                        <div title="其他"></div>
                        <div title="其他"></div>
                    </div>
                </div>
            </div>
            <!-------右侧区域------>
            <div id="rightSide" data-options="region:'east',split:true,collapsed:true" title="&nbsp;"
                 style="width:20%;height: 100%;">
                <div id="rightTab1" class="rightTab"></div>

            </div>
        </div>
    </div>
</div>

<script>
    $.extend($.fn.layout.methods, {
        isVisible: function (jq, params) {
            var panels = $.data(jq[0], 'layout').panels;
            var pp = panels[params];
            if (!pp) {
                return false;
            }
            if (pp.length) {
                return pp.panel('panel').is(':visible');
            } else {
                return false;
            }
        },
        hidden: function (jq, params) {
            return jq.each(function () {
                var opts = $.data(this, 'layout').options;
                var panels = $.data(this, 'layout').panels;
                if (!opts.regionState) {
                    opts.regionState = {};
                }
                var region = params;

                function hide(dom, region, doResize) {
                    var first = region.substring(0, 1);
                    var others = region.substring(1);
                    var expand = 'expand' + first.toUpperCase() + others;
                    if (panels[expand]) {
                        if ($(dom).layout('isVisible', expand)) {
                            opts.regionState[region] = 1;
                            panels[expand].panel('close');
                        } else if ($(dom).layout('isVisible', region)) {
                            opts.regionState[region] = 0;
                            panels[region].panel('close');
                        }
                    } else {
                        panels[region].panel('close');
                    }
                    if (doResize) {
                        $(dom).layout('resize');
                    }
                };
                if (region.toLowerCase() == 'all') {
                    hide(this, 'east', false);
                    hide(this, 'north', false);
                    hide(this, 'west', false);
                    hide(this, 'south', true);
                } else {
                    hide(this, region, true);
                }
            });
        },
        show: function (jq, params) {
            return jq.each(function () {
                var opts = $.data(this, 'layout').options;
                var panels = $.data(this, 'layout').panels;
                var region = params;

                function show(dom, region, doResize) {
                    var first = region.substring(0, 1);
                    var others = region.substring(1);
                    var expand = 'expand' + first.toUpperCase() + others;
                    if (panels[expand]) {
                        if (!$(dom).layout('isVisible', expand)) {
                            if (!$(dom).layout('isVisible', region)) {
                                if (opts.regionState[region] == 1) {
                                    panels[expand].panel('open');
                                } else {
                                    panels[region].panel('open');
                                }
                            }
                        }
                    } else {
                        panels[region].panel('open');
                    }
                    if (doResize) {
                        $(dom).layout('resize');
                    }
                };
                if (region.toLowerCase() == 'all') {
                    show(this, 'east', false);
                    show(this, 'north', false);
                    show(this, 'west', false);
                    show(this, 'south', true);
                } else {
                    show(this, region, true);
                }
            });
        }
    });
    function addTab(link) {
        if ($("#" + $(link).attr("rel")).length != 0)
            return;

        $("#tabs li").removeClass("current");
        $("#content p").hide();
        $("#tabs").append("<li class='current'><a class='tab' id='" +
            $(link).attr("rel") + "' href='#'>" + $(link).html() +
            "</a><a href='#' class='remove'>x</a></li>");
        $("#content").append("<p id='" + $(link).attr("rel") + "_content'>" +
            $(link).attr("title") + "</p>");
        $("#" + $(link).attr("rel") + "_content").show();
    }
    $(document).ready(function () {
        function removePanel(el) {
            var tab = el.tabs('getSelected');
            if (tab) {
                var index = el.tabs('getTabIndex', tab);
                el.tabs('close', index);
            }
        }

        $("#sideList li").hover(function () {
            var len = $(this).length;
            var index = $(this).index();
            var tabLen = $(this).find(".tabList li").length;
            if (index >= len / 2) {
                if ($(this).find(".tabList")) {
                    var bot = ($(this).find(".tabList li").length - 1) * 35;
                    $(this).find(".tabList").css({
                        top: -bot,
                        display: "block"
                    })
                }
            } else {
                if ($(this).find(".tabList")) {
                    $(this).find(".tabList").css({
                        top: 10,
                        display: "block"
                    })
                }
            }

        }, function () {
            if ($(this).find(".tabList")) {
                $(this).find(".tabList").hide()
            }
        });
        function addPanel(el, index) {
            el.tabs('add', {
                title: 'Tab' + index,
                content: '<div style="padding:10px" id="closeTab' + index + '">Content' + index + '</div>',
                closable: true
            });
        }

        function create(index) {
            var len = $("#sideList li").eq(index).find(".tabList li").length;
            var appendindex = index + 1;
            for (var i = 1; i <= len; i++) {
                addPanel($(".centerTab").eq(appendindex).find(".easyui-tabs"), i)
            }
        }

        create(0)

        function changImg(el, childImg, index) {
            var $img = el.find(childImg);
            var imgSrc = $img.attr("src");
            var changeSrc = imgSrc.substring(0, imgSrc.lastIndexOf(".") - 1) + index + ".png";
            $img.attr("src", changeSrc);
        }

        $("#leftTabBtn").click(function () {
            var left = parseInt($("#easyTab1 .tabs").css("margin-left")) + 100;
            if (parseInt(left) >=($("#easyTab1 .tabs").get(0).offsetWidth + 100)-($("#wrapper").get(0).offsetWidth)) {
                $("#easyTab1 .tabs").stop();
            } else {
                $("#easyTab1 .tabs").stop().animate({
                    "margin-left": left + "px"
                }, 1000, "linear");
            }
        })

        $("#rightTabBtn").click(function () {
            var left = parseInt($("#easyTab1 .tabs").css("margin-left")) - 100;
            if (parseInt(-left) >= parseInt(-($("#wrapper").get(0).offsetWidth - $("#easyTab1 .tabs").get(0).offsetWidth) + 100)) {
                $("#easyTab1 .tabs").stop();
            } else {
                $("#easyTab1 .tabs").stop().animate({
                    "margin-left": left + "px"
                }, 1000, "linear");
            }
        })
        $("#sideList li").on("click", ".tabList li", function () {
            $("#easyTab1 .tabs").stop();
            var index = $(this).parents(".tab").index();
            showCenterTab(index);
            var i = $(this).index();
            $(".centerTab").eq(index + 1)
                .find(".easyui-tabs .tabs li").eq(i).addClass("tabs-selected")
                .siblings("li").removeClass("tabs-selected");
            $(".centerTab").eq(index + 1)
                .find(".easyui-tabs .tabs-panels .panel").eq(i).show()
                .siblings(".panel").hide();
            var len = $("#easyTab1 .tabs li").length;
            var tabLiWidth = parseInt($("#easyTab1 .tabs li:eq(0)").get(0).offsetWidth);
            var tabWidth = len * tabLiWidth;
            $("#easyTab1 .tabs").css({
                width: tabWidth
            })
            var wrapWidth = $("#wrapper").get(0).offsetWidth;
            if (tabWidth > wrapWidth) {
                $("#leftTabBtn,#rightTabBtn").show();
            }
        });
        $('#tabs a.tab').live('click', function () {
            var contentname = $(this).attr("id") + "_content";
            $("#content p").hide();
            $("#tabs li").removeClass("current");
            $("#" + contentname).show();
            $(this).parent().addClass("current");
        });

        $('#tabs a.remove').live('click', function () {
            var tabid = $(this).parent().find(".tab").attr("id");
            var contentname = tabid + "_content";
            $("#" + contentname).remove();
            $(this).parent().remove();
            if ($("#tabs li.current").length == 0 && $("#tabs li").length > 0) {
                var firsttab = $("#tabs li:first-child");
                firsttab.addClass("current");
                var firsttabid = $(firsttab).find("a.tab").attr("id");
                $("#" + firsttabid + "_content").show();
            }
        });

        $("#operation a.easyui-linkbutton").hover(function () {
            changImg($(this), ".l-btn-text img", 2)
        }, function () {
            changImg($(this), ".l-btn-text img", 1)
        });
        $(".sub").hover(function () {
            changImg($(this), "img", 2)
        }, function () {
            changImg($(this), "img", 1)
        })
        $(".sub").click(function () {
            changImg($(this), "img", 3)
        });
        $("#operation a.easyui-linkbutton").click(function () {
            changImg($(this), ".l-btn-text img", 3)
        });
        $("#sidetab1").click(function () {
            $("#mainbox").layout("show", "east");
        })
        $("#sidetab2,#sidetab3,#sidetab4").click(function () {
            $("#mainbox").layout("hidden", "east");
        })

        $("#headerIcon .iconBtn").hover(function () {
            var imgSrc = $(this).find("img").attr("src");
            imgSrc = imgSrc.substring(0, imgSrc.lastIndexOf(".")) + "_ho.png";
            $(this).find("img").attr("src", imgSrc);
        }, function () {
            var imgSrc = $(this).find("img").attr("src");
            imgSrc = imgSrc.substring(0, imgSrc.lastIndexOf("_")) + ".png";
            $(this).find("img").attr("src", imgSrc);
        });
        $("#headerIcon .iconBtn").click(function () {
            var imgSrc = $(this).find("img").attr("src");
            imgSrc = imgSrc.substring(0, imgSrc.lastIndexOf("_")) + "_on.png";
            $(this).find("img").attr("src", imgSrc);
        })
        $("#headerIcon .iconBtn").each(function () {
            var imgSrc = $(this).find("img").attr("src");
            if (imgSrc.indexOf("_") === -1) {
                imgSrc = imgSrc.substring(0, imgSrc.lastIndexOf(".")) + "_no.png"
            } else {
                imgSrc = imgSrc.substring(0, imgSrc.lastIndexOf("_")) + "_no.png"
            }
            if ($(this).is(":disabled")) {
                $(this).unbind("hover");
                $(this).find("img").attr("src", imgSrc);
            }
        })


        $("#infomationList").on("click", ".news", function (evt) {
            var e = window.event || evt
            e.preventDefault();
            var $newsBody = $(this).find(".newsBody");
            var $upDown = $(this).find(".upDown");
            if ($newsBody.is(":hidden")) {
                $newsBody.show();
                $upDown.addClass("iconUp").removeClass("iconDown");
            } else {
                $newsBody.hide();
                $upDown.addClass("iconDown").removeClass("iconUp");
            }
        });
        $("#sideList li").click(function () {
            var index = $(this).index();
            showCenterTab(index);
        });

        function showCenterTab(index) {
            $(".centerTab").eq(index + 1).css({
                opacity: 1,
                "z-index": 5
            }).siblings(".centerTab").css({
                opacity: 0,
                "z-index": 1
            })
        }

        var dayCanvas = document.querySelector("#dayChart");
        dayCanvas.width = $("#chartData").get(0).clientHeight;
        dayCanvas.height = $("#chartData").get(0).clientHeight;
        var dayCtx = dayCanvas.getContext("2d");
        var data = {
            labels: [
                "任务1",
                "任务2",
                "任务3"
            ],
            datasets: [
                {
                    data: [300, 50, 100],
                    backgroundColor: [
                        "#FF6384",
                        "#36A2EB",
                        "#FFCE56"
                    ],
                    hoverBackgroundColor: [
                        "#FF6384",
                        "#36A2EB",
                        "#FFCE56"
                    ]
                }]
        };
        new Chart(dayCtx, {
            type: "pie",
            data: data,
            options: {
                animation: {
                    animateScale: true
                }
            }
        });

        var zNodes = [
            {
                id: 0,
                name: "test1", open: true,
                children: [
                    {id: 2, name: "test1_1"},
                    {id: 3, name: "test1_2"}
                ]
            },
            {
                id: 0,
                name: "test2", open: true, children: [
                {id: 4, name: "test2_1"},
                {id: 5, name: "test2_2"}
            ]
            }
        ];
        var setting = {
            view: {
                addDiyDom: addDiyDom,
                removeHoverDom: removeHoverDom,
                showIcon: true,
            }
        };
        $.fn.zTree.init($("#ztreeMain"), setting, zNodes);
        function addDiyDom(treeId, treeNode) {
            if (treeNode.id === 0)return;
            var aObj = $("#" + treeNode.tId + "_a");
            if ($("#diyBtn_" + treeNode.id).length > 0) return;
            var editStr = "<span id='diyBtn_space_" + treeNode.id + "' > </span>"
                + "<a class='diyBtn1' href='https://www.baidu.com' id='diyBtn_" + treeNode.id
                + "' title='" + treeNode.name + "' onfocus='this.blur();'>链接</a>";
            for (var i = 0; i < 3; i++) {
                aObj.append(editStr);
            }
//            var btn = $("#diyBtn_"+treeNode.id);
//            if (btn) btn.bind("click", function(){alert("diy Button for " + treeNode.name);});
        };
        function removeHoverDom(treeId, treeNode) {
//            $("#diyBtn_" + treeNode.id).unbind().remove();
//            $("#diyBtn_space_" + treeNode.id).unbind().remove();
        };
    });

</script>
</body>
</html>
